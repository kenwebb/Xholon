/* Notes, December 28, 2019
- OK objk only has id, nmbrng_id, label
- OK link includes type_id, parent_id
- OK prop includes any properties
- OK from this I can derive any other design
- "An object is completely determined by its relationships and properties" see math3ma
- OK there are no privileged links
 - OK even prnt and type are just everyday links that belong in the link table
- OK the nmbrng table is only needed if I in fact use different numberings, rather than globally unique IDs
 - OK for example, I could use long hex numbers as IDs

- the ultimate "pure" structure is to start with a set/table that only contains randomly generated long-hex numbers (one field)
 - then create a second table with two fields: ID, label
  - the label makes it possible for humans to understand it
 - then add link and property tables

- as an alternative, I could renumber starting from app
 - then nmbrng table would not be required
 - but perhaps I should then also save out the original id to each objk record

- TODO
 - renumber starting with app
 - then write out starting with app
  - write objk, link, prop for each node
*/

DROP TABLE IF EXISTS nmbrng;
CREATE TABLE IF NOT EXISTS nmbrng (
 id varchar(1) NOT NULL,
 label varchar(80) NOT NULL,
 PRIMARY KEY (id));

INSERT INTO nmbrng (id, label) VALUES
 ('n', 'node'),
 ('t', 'type'),
 ('c', 'cntrl'),
 ('v', 'view'),
 ('m', 'mech'),
 ('s', 'srvc'),
 ('a', 'app'),
 ('?', 'etc???'),
 ('1', 'appspecific01');

DROP TABLE IF EXISTS objk;
CREATE TABLE IF NOT EXISTS objk (
 id integer NOT NULL,
 nmbrng_id varchar(10) NOT NULL DEFAULT '?',
 label varchar(80) NOT NULL,
 PRIMARY KEY (id, nmbrng_id),
 FOREIGN KEY (nmbrng_id) REFERENCES nmbrng(id));

INSERT INTO objk (id, nmbrng_id, label) VALUES
 (0, 'a', 'Application'),
 (1, 'c', 'Controller'),
 (2, 'c', 'Start'),
 (3, 'c', 'Pause'),
 (4, 'c', 'Step'),
 (5, 'c', 'Stop'),
 (6, 'c', 'Refresh'),
 (7, 'c', 'View'),
 (47, 'n', 'SvgClient'),
 (50, 'n', 'Interactions'),
 (8, 'c', 'Model'),
 (9, 'c', 'CompositeStructureHierarchy'),
 (0, 'n', 'HelloWorldSystem'),
 (2, 'n', 'Hello'),
 (3, 'n', 'World'),
 (0, 's', 'XholonInternalServices'),
 (1, 's', 'ServiceLocatorService'),
 (2, 's', 'XPathService'),
 (4, 'n', 'XPath'),
 (3, 's', 'XholonDirectoryService'),
 (4, 's', 'AboutService'),
 (5, 's', 'ChartViewerService'),
 (6, 'b', 'XholonMap'),
 (5, 'n', 'ChartViewerService-JFreeChart'),
 (6, 'n', 'ChartViewerService-gnuplot'),
 (7, 'n', 'ChartViewerService-google2'),
 (8, 'n', 'ChartViewerService-c3'),
 (9, 'n', 'ChartViewerService-nvd3'),
 (7, 's', 'GenericViewerService'),
 (8, 'b', 'XholonMap'),
 (10, 'n', 'GraphicalTreeViewerService'),
 (11, 'n', 'HistogramViewerService'),
 (12, 'n', 'TextTreeViewerService'),
 (9, 's', 'XholonCreationService'),
 (1011202, 'n', 'TreeNodeFactory'),
 (10, 's', 'NodeSelectionService'),
 (11, 's', 'XholonHelperService'),
 (46, 'n', 'CutCopyPaste'),
 (12, 's', 'WiringService'),
 (13, 's', 'SvgViewService'),
 (48, 'n', 'XholonServiceImpl'),
 (14, 's', 'GistService'),
 (15, 's', 'ExternalFormatService'),
 (16, 's', 'SearchEngineService'),
 (17, 'b', 'XholonMap'),
 (13, 'n', 'Google'),
 (14, 'n', 'Yahoo'),
 (15, 'n', 'Wikipedia (en)'),
 (16, 'n', 'Wiktionary (en)'),
 (17, 'n', 'Wikimedia commons'),
 (18, 'n', 'DuckDuckGo'),
 (19, 'n', 'Bing'),
 (20, 'n', 'Twitter'),
 (21, 'n', 'Webster'),
 (22, 'n', 'Answers.com'),
 (23, 'n', 'Ask.com'),
 (24, 'n', 'DBpedia'),
 (25, 'n', 'Wolfram|Alpha'),
 (26, 'n', 'Ecosia'),
 (27, 'n', 'XholonWorkbook'),
 (28, 'n', 'Azimuth Project'),
 (29, 'n', 'youtube'),
 (30, 'n', 'EyePlorer'),
 (31, 'n', 'dogpile'),
 (32, 'n', 'Google Scholar'),
 (33, 'n', 'Internet Archive'),
 (18, 's', 'RecordPlaybackService'),
 (19, 's', 'MathSciEngService'),
 (20, 's', 'BlackboardService'),
 (21, 'b', 'XholonMap'),
 (22, 's', 'TimelineService'),
 (23, 'b', 'XholonMap'),
 (34, 'n', 'TimelineService-ChapJSON'),
 (24, 's', 'NoSqlService'),
 (25, 'b', 'XholonMap'),
 (35, 'n', 'NoSqlService-Neo4jRestApi'),
 (26, 's', 'MeteorPlatformService'),
 (27, 's', 'RemoteNodeService'),
 (28, 'b', 'XholonMap'),
 (36, 'n', 'RemoteNodeService-CrossApp'),
 (37, 'n', 'RemoteNodeService-PostMessage'),
 (38, 'n', 'RemoteNodeService-MessageChannel'),
 (39, 'n', 'RemoteNodeService-WebRTC'),
 (40, 'n', 'RemoteNodeService-PeerJS'),
 (29, 's', 'BroadcastService'),
 (30, 'b', 'XholonMap'),
 (31, 's', 'SpreadsheetService'),
 (32, 'b', 'XholonMap'),
 (41, 'n', 'SpreadsheetService-FormulaParser'),
 (33, 's', 'NaturalLanguageService'),
 (34, 'b', 'XholonMap'),
 (42, 'n', 'NaturalLanguageService-GoogleNL'),
 (43, 'n', 'NaturalLanguageService-OpenCalais'),
 (44, 'n', 'NaturalLanguageService-Sentimood'),
 (45, 'n', 'NaturalLanguageService-SentiEmoLex'),
 (35, 's', 'RecipeService'),
 (36, 'b', 'XholonMap'),
 (37, 's', 'WebCryptographyService'),
 (38, 's', 'IndexedDBService'),
 (10, 'c', 'InheritanceHierarchy'),
 (0, 't', 'XholonClass'),
 (2000000, 't', 'XholonMechanism'),
 (2000001, 't', 'XhMechanisms'),
 (2000002, 't', 'XholonMechanisms'),
 (2000003, 't', 'UserMechanisms'),
 (2000004, 't', 'UserMechanism'),
 (1010000, 't', 'Annotation'),
 (1002200, 't', 'Attribute'),
 (1002201, 't', 'Attribute_attribute'),
 (1002202, 't', 'Attribute_boolean'),
 (1002203, 't', 'Attribute_byte'),
 (1002204, 't', 'Attribute_char'),
 (1002205, 't', 'Attribute_double'),
 (1002206, 't', 'Attribute_float'),
 (1002207, 't', 'Attribute_int'),
 (1002208, 't', 'Attribute_long'),
 (1002209, 't', 'Attribute_Object'),
 (1014910, 't', 'default'),
 (1002210, 't', 'Attribute_short'),
 (1002211, 't', 'Attribute_String'),
 (1002212, 't', 'Attribute_arrayboolean'),
 (1002213, 't', 'Attribute_arraybyte'),
 (1002214, 't', 'Attribute_arraychar'),
 (1002215, 't', 'Attribute_arraydouble'),
 (1002216, 't', 'Attribute_arrayfloat'),
 (1002217, 't', 'Attribute_arrayint'),
 (1002218, 't', 'Attribute_arraylong'),
 (1002219, 't', 'Attribute_arrayObject'),
 (1002220, 't', 'Attribute_arrayshort'),
 (1002221, 't', 'Attribute_arrayString'),
 (1002222, 't', 'Attribute_List'),
 (1002223, 't', 'Attribute_Map'),
 (1002224, 't', 'Attribute_Set'),
 (1002225, 't', 'attr:Attribute_boolean'),
 (1002226, 't', 'attr:Attribute_byte'),
 (1002227, 't', 'attr:Attribute_char'),
 (1002228, 't', 'attr:Attribute_double'),
 (1002229, 't', 'attr:Attribute_float'),
 (1002230, 't', 'attr:Attribute_int'),
 (1002231, 't', 'attr:Attribute_long'),
 (1002232, 't', 'attr:Attribute_Object'),
 (1002233, 't', 'attr:Attribute_short'),
 (1002234, 't', 'attr:Attribute_String'),
 (1014400, 't', 'Avatar'),
 (1014401, 't', 'Chatbot'),
 (1014402, 't', 'Sprite'),
 (1014403, 't', 'Stage'),
 (1001200, 't', 'Behavior'),
 (1001201, 't', 'OpaqueBehavior'),
 (1016400, 't', 'BehaviorTreeEntity'),
 (1016401, 't', 'RootBT'),
 (1016402, 't', 'CompositeBT'),
 (1016403, 't', 'SequenceBT'),
 (1016404, 't', 'SelectorBT'),
 (1016405, 't', 'ParallelBT'),
 (1016406, 't', 'DecoratorBT'),
 (1016407, 't', 'InverterBT'),
 (1016408, 't', 'LeafBT'),
 (1016409, 't', 'ActionBT'),
 (1016410, 't', 'ConditionBT'),
 (1016411, 't', 'SuccessBT'),
 (1016412, 't', 'FailureBT'),
 (1016413, 't', 'RunningBT'),
 (1013100, 't', 'BigraphEntity'),
 (1013101, 't', 'BigraphicalReactiveSystem'),
 (1013102, 't', 'Bigraphs'),
 (1013103, 't', 'Bigraph'),
 (1013104, 't', 'PlaceGraph'),
 (1013105, 't', 'LinkGraph'),
 (1013106, 't', 'ReactionRulesBG'),
 (1013107, 't', 'ReactionRuleBG'),
 (1013108, 't', 'Redex'),
 (1013109, 't', 'Reactum'),
 (1013110, 't', 'PlaceBG'),
 (1013111, 't', 'RootBG'),
 (1013112, 't', 'NodeBG'),
 (1013113, 't', 'SiteBG'),
 (1013114, 't', 'LinkBG'),
 (1013115, 't', 'HyperedgeBG'),
 (1013116, 't', 'OuterNameBG'),
 (1013117, 't', 'PointBG'),
 (1013118, 't', 'PortBG'),
 (1013119, 't', 'InnerNameBG'),
 (1013120, 't', 'ControlBG'),
 (1013121, 't', 'ComposerBG'),
 (1003200, 't', 'BusApp'),
 (1003201, 't', 'AppClientMVC'),
 (1003202, 't', 'AppClientModel'),
 (1003203, 't', 'AppClientView'),
 (1003204, 't', 'AppClientController'),
 (1003205, 't', 'AppClientWorker'),
 (1003206, 't', 'AppClientBusinessDelegate'),
 (1003207, 't', 'BusAppService'),
 (1003208, 't', 'BusAppDao'),
 (1003209, 't', 'BusAppEjb'),
 (1015900, 't', 'CatTheory'),
 (1015901, 't', 'CatAql'),
 (1015902, 't', 'CatOpDsl'),
 (1004200, 't', 'DfdEntity'),
 (1004201, 't', 'DfdExternalEntity'),
 (1004202, 't', 'DfdDataFlow'),
 (1004203, 't', 'DfdProcess'),
 (1004204, 't', 'DfdDataStore'),
 (1004205, 't', 'DfdContainer'),
 (1004206, 't', 'DfdExternalEntities'),
 (1004207, 't', 'DfdDataFlows'),
 (1004208, 't', 'DfdProcesses'),
 (1004209, 't', 'DfdDataStores'),
 (1014900, 't', 'gexf'),
 (1014901, 't', 'attributeGEXF'),
 (1014902, 't', 'attributes'),
 (1014903, 't', 'attvalue'),
 (1014904, 't', 'attvalues'),
 (1014905, 't', 'edge'),
 (1014906, 't', 'edges'),
 (1014907, 't', 'graph'),
 (1014908, 't', 'node'),
 (1014909, 't', 'nodes'),
 (1016200, 't', 'HypergraphEntity'),
 (1016201, 't', 'Hyperedge'),
 (1010300, 't', 'Listener'),
 (1010301, 't', 'ListenerList'),
 (1014800, 't', 'NaturalLanguage'),
 (1014801, 't', 'GoogleNL'),
 (1014802, 't', 'OpenCalais'),
 (1014803, 't', 'Sentimood'),
 (1014804, 't', 'SentiEmoLex'),
 (1014000, 't', 'NoSql'),
 (1014001, 't', 'NoSqlClient'),
 (1014002, 't', 'Neo4jClient'),
 (1003000, 't', 'OrNode'),
 (1003001, 't', 'OrNodeNext'),
 (1003002, 't', 'OrNodeRandom'),
 (1013000, 't', 'PetriNetEntity'),
 (1013001, 't', 'PetriNet'),
 (1013002, 't', 'PlacePN'),
 (1013003, 't', 'PlaceBoolean'),
 (1013004, 't', 'PlaceInteger'),
 (1013005, 't', 'PlaceStructured'),
 (1013006, 't', 'Species'),
 (1013007, 't', 'TransitionPN'),
 (1013008, 't', 'Reaction'),
 (1013009, 't', 'QueueTransitions'),
 (1013010, 't', 'ArcPN'),
 (1013011, 't', 'InputArc'),
 (1013012, 't', 'OutputArc'),
 (1013013, 't', 'Transitions'),
 (1013014, 't', 'Reactions'),
 (1013015, 't', 'Places'),
 (1013016, 't', 'Speciez'),
 (1013017, 't', 'InputArcs'),
 (1013018, 't', 'OutputArcs'),
 (1013019, 't', 'AnalysisPN'),
 (1013020, 't', 'AnalysisPetriNet'),
 (1013021, 't', 'AnalysisCRN'),
 (1013022, 't', 'AnalysisCat'),
 (1013023, 't', 'AnalysisMemComp'),
 (1013024, 't', 'PneBehavior'),
 (1013025, 't', 'PlaceBehavior'),
 (1013026, 't', 'MovingPlaceBehavior'),
 (1013027, 't', 'TransitionBehavior'),
 (1013028, 't', 'MovingTransitionBehavior'),
 (1013029, 't', 'FiringTransitionBehavior'),
 (1013030, 't', 'QueueNodesInGrid'),
 (1013031, 't', 'GridOwner'),
 (1013032, 't', 'ConstantlyStirredPot'),
 (1013033, 't', 'MembranePN'),
 (1000100, 't', 'Port'),
 (1014500, 't', 'RemoteNode'),
 (1014501, 't', 'CrossApp'),
 (1014502, 't', 'MessageChannel'),
 (1014503, 't', 'PeerJS'),
 (1014504, 't', 'PostMessage'),
 (1014505, 't', 'WebRTC'),
 (1010100, 't', 'Role'),
 (1016300, 't', 'RecipeEntity'),
 (1016301, 't', 'RecipeBook'),
 (1016302, 't', 'MinecraftStyleRecipeBook'),
 (1016303, 't', 'JsonRulesEngineRecipeBook'),
 (1016304, 't', 'CeptreJsonRulesEngineRecipeBook'),
 (1016000, 't', 'RoomEntity'),
 (1016001, 't', 'RoomETrice'),
 (1014300, 't', 'Script'),
 (1014301, 't', 'script'),
 (1014600, 't', 'SpreadsheetEntity'),
 (1014601, 't', 'Workbook'),
 (1014602, 't', 'Spreadsheet'),
 (1014603, 't', 'SpreadsheetRow'),
 (1014604, 't', 'SpreadsheetCell'),
 (1014605, 't', 'SpreadsheetFormula'),
 (1014606, 't', 'Srw'),
 (1014607, 't', 'Scl'),
 (1014608, 't', 'Sfr'),
 (1000000, 't', 'StateMachineEntity'),
 (1000001, 't', 'StateMachine'),
 (1000002, 't', 'Region'),
 (1000003, 't', 'Vertex'),
 (1000004, 't', 'ConnectionPointReference'),
 (1000005, 't', 'State'),
 (1000006, 't', 'FinalState'),
 (1000007, 't', 'Pseudostate'),
 (1000008, 't', 'PseudostateTerminate'),
 (1000009, 't', 'PseudostateShallowHistory'),
 (1000010, 't', 'PseudostateJunction'),
 (1000011, 't', 'PseudostateJoin'),
 (1000012, 't', 'PseudostateInitial'),
 (1000013, 't', 'PseudostateFork'),
 (1000014, 't', 'PseudostateExitPoint'),
 (1000015, 't', 'PseudostateEntryPoint'),
 (1000016, 't', 'PseudostateDeepHistory'),
 (1000017, 't', 'PseudostateChoice'),
 (1000018, 't', 'Trigger'),
 (1000019, 't', 'Transition'),
 (1000020, 't', 'TransitionExternal'),
 (1000021, 't', 'TransitionInternal'),
 (1000022, 't', 'TransitionLocal'),
 (1000023, 't', 'Activity'),
 (1000024, 't', 'Guard'),
 (1000025, 't', 'EntryActivity'),
 (1000026, 't', 'ExitActivity'),
 (1000027, 't', 'DoActivity'),
 (1000028, 't', 'DeferrableTrigger'),
 (1000029, 't', 'Target'),
 (1016500, 't', 'SubtreesEntity'),
 (1016501, 't', 'BehaviorsST'),
 (1016502, 't', 'InventoryST'),
 (1016503, 't', 'ToolsST'),
 (1010200, 't', 'Uid'),
 (1016100, 't', 'XholonBase'),
 (1016101, 't', 'XholonNull'),
 (1016102, 't', 'MathObject'),
 (1004100, 't', 'XholonCollection'),
 (1004101, 't', 'XholonList'),
 (1004102, 't', 'XholonMap'),
 (1004103, 't', 'XholonSet'),
 (1011200, 't', 'XholonFramework'),
 (1011201, 't', 'InheritanceHierarchy'),
 (1011202, 't', 'TreeNodeFactory'),
 (1011203, 't', 'Queue'),
 (1011204, 't', 'SynchronizedQueue'),
 (1011205, 't', 'XholonNode'),
 (1011206, 't', 'Message'),
 (1010700, 't', 'XholonService'),
 (1010701, 't', 'XholonInternalService'),
 (1010702, 't', 'ServiceLocatorService'),
 (1010703, 't', 'XholonDirectoryService'),
 (1010704, 't', 'DummyService'),
 (1010705, 't', 'TreeProcessorService'),
 (1010706, 't', 'AboutService'),
 (1010707, 't', 'ChartViewerService'),
 (1010708, 't', 'SpringFrameworkService'),
 (1010709, 't', 'NodeSelectionService'),
 (1010710, 't', 'XholonHelperService'),
 (1010711, 't', 'WiringService'),
 (1010712, 't', 'ControlService'),
 (1010713, 't', 'ScriptService'),
 (1010714, 't', 'CssService'),
 (1010715, 't', 'MediaService'),
 (1010716, 't', 'GameEngineService'),
 (1010717, 't', 'NetLogoService'),
 (1010718, 't', 'SvgViewService'),
 (1010719, 't', 'GistService'),
 (1010720, 't', 'ExternalFormatService'),
 (1010721, 't', 'SearchEngineService'),
 (1010722, 't', 'RecordPlaybackService'),
 (1010723, 't', 'SemanticWebService'),
 (1010724, 't', 'SbmlService'),
 (1010725, 't', 'MathSciEngService'),
 (1010726, 't', 'BlackboardService'),
 (1010727, 't', 'VfsService'),
 (1010728, 't', 'NoSqlService'),
 (1010729, 't', 'RestService'),
 (1010730, 't', 'BlueprintsService'),
 (1010731, 't', 'XmlDatabaseService'),
 (1010732, 't', 'JcrService'),
 (1010733, 't', 'JavaSerializationService'),
 (1010734, 't', 'BerkeleyDbService'),
 (1010735, 't', 'TimelineService'),
 (1010736, 't', 'ValidationService'),
 (1010737, 't', 'XmlValidationService'),
 (1010738, 't', 'DatabaseService'),
 (1010739, 't', 'GenericViewerService'),
 (1010740, 't', 'GridViewerService'),
 (1010741, 't', 'VrmlService'),
 (1010742, 't', 'GraphicalNetworkViewerService'),
 (1010743, 't', 'LogService'),
 (1010744, 't', 'ReflectionService'),
 (1010745, 't', 'Xholon2XmlService'),
 (1010746, 't', 'XholonCreationService'),
 (1010747, 't', 'XmlReaderService'),
 (1010748, 't', 'XmlWriterService'),
 (1010749, 't', 'Xml2XholonService'),
 (1010750, 't', 'XPathService'),
 (1010751, 't', 'XQueryService'),
 (1010752, 't', 'MeteorPlatformService'),
 (1010753, 't', 'RemoteNodeService'),
 (1010754, 't', 'BroadcastService'),
 (1010755, 't', 'SpreadsheetService'),
 (1010756, 't', 'NaturalLanguageService'),
 (1010757, 't', 'RecipeService'),
 (1010758, 't', 'HTML5Service'),
 (1010759, 't', 'WebCryptographyService'),
 (1010760, 't', 'IndexedDBService'),
 (1010761, 't', 'Xholon2Svg'),
 (1010762, 't', 'Xholon2Properties'),
 (1010763, 't', 'XholonInternalServices'),
 (1010764, 't', 'XholonUserService'),
 (1010765, 't', 'XholonUserServices'),
 (1010766, 't', 'XholonServiceImpl'),
 (1010800, 't', 'XPath'),
 (1010801, 't', 'PcsPath'),
 (2000100, 't', 'XholonViewer'),
 (1000200, 't', 'DataPlotter'),
 (1000201, 't', 'XYChart'),
 (1000202, 't', 'XAxisLabel'),
 (1000203, 't', 'YAxisLabel'),
 (1000204, 't', 'XYSeries'),
 (1000500, 't', 'GridViewer'),
 (1002100, 't', 'HistogramViewer'),
 (1002101, 't', 'XAxisLabel_Hist'),
 (1002102, 't', 'YAxisLabel_Hist'),
 (1000600, 't', 'Interactions'),
 (1000700, 't', 'Snapshot'),
 (1011600, 't', 'SvgEntity'),
 (1011601, 't', 'SvgLabel'),
 (1011602, 't', 'SvgViewable'),
 (1011603, 't', 'SvgAttribute'),
 (1011604, 't', 'SvgClient'),
 (1000800, 't', 'TextTree'),
 (1, 't', 'HelloWorldSystem'),
 (2, 't', 'Hello'),
 (3, 't', 'World'),
 (11, 'c', 'MechanismHierarchy'),
 (0, 'm', 'XhMechanisms'),
 (1, 'm', 'XholonMechanisms'),
 (2, 'm', 'Action'),
 (3, 'm', 'Annotation'),
 (4, 'm', 'Attribute'),
 (5, 'm', 'Avatar'),
 (6, 'm', 'Behavior'),
 (7, 'm', 'BehaviorTreeEntity'),
 (8, 'm', 'BigraphEntity'),
 (9, 'm', 'BusApp'),
 (10, 'm', 'CatTheory'),
 (11, 'm', 'Control'),
 (12, 'm', 'DfdEntity'),
 (13, 'm', 'gexf'),
 (14, 'm', 'Hypergraph'),
 (15, 'm', 'Listener'),
 (16, 'm', 'NaturalLanguage'),
 (17, 'm', 'NoSql'),
 (18, 'm', 'OrNode'),
 (19, 'm', 'PetriNetEntity'),
 (20, 'm', 'Port'),
 (21, 'm', 'Recipe'),
 (22, 'm', 'RemoteNode'),
 (23, 'm', 'Role'),
 (24, 'm', 'RoomEntity'),
 (25, 'm', 'Script'),
 (26, 'm', 'SpreadsheetEntity'),
 (27, 'm', 'StateMachineEntity'),
 (28, 'm', 'Story'),
 (29, 'm', 'SubtreesEntity'),
 (30, 'm', 'Uid'),
 (31, 'm', 'XholonBase'),
 (32, 'm', 'XholonCollection'),
 (33, 'm', 'Xholon'),
 (34, 'm', 'XholonFramework'),
 (35, 'm', 'XholonMechanism'),
 (36, 'm', 'XholonService'),
 (37, 'm', 'XPath'),
 (38, 'm', 'XholonViewers'),
 (39, 'm', 'DataPlotter'),
 (40, 'm', 'GraphicalNetworkViewer'),
 (41, 'm', 'GraphicalTreeViewer'),
 (42, 'm', 'GridViewer'),
 (43, 'm', 'HistogramViewer'),
 (44, 'm', 'Interactions'),
 (45, 'm', 'Snapshot'),
 (46, 'm', 'SvgEntity'),
 (47, 'm', 'TextTree'),
 (48, 'm', 'Vrml'),
 (49, 'm', 'XholonConsole');

/* this works */
DROP TABLE IF EXISTS link;
CREATE TABLE IF NOT EXISTS link (
 src_id integer NOT NULL,
 src_nmbrng_id varchar(10) NOT NULL,
 trg_id integer NOT NULL,
 trg_nmbrng_id varchar(10) NOT NULL,
 arrow_label varchar(80) NOT NULL,
 arrow_index integer,
 arrow_xpath varchar(80),
 FOREIGN KEY (src_id) REFERENCES objk(id),
 FOREIGN KEY (src_nmbrng_id) REFERENCES objk(nmbrng_id),
 FOREIGN KEY (trg_id) REFERENCES objk(id),
 FOREIGN KEY (trg_nmbrng_id) REFERENCES objk(nmbrng_id));

/* this fails, but it does work when I add unneeded fields on the first 2 records */
INSERT INTO link (src_id, src_nmbrng_id, trg_id, trg_nmbrng_id, arrow_label, arrow_index, arrow_xpath) VALUES
 (0, 'n', 1, 't', 'type', NULL, ''),
 (2, 'n', 2, 't', 'type', NULL, ''),
 (2, 'n', 0, 'n', 'prnt', NULL, ''),
 (2, 'n', 3, 'n', 'port', 0, '../World'),
 (3, 'n', 3, 't', 'type', NULL, ''),
 (3, 'n', 0, 'n', 'prnt', NULL, ''),
 (3, 'n', 2, 'n', 'port', 0, '../Hello')
 ;

DROP TABLE IF EXISTS prop;
CREATE TABLE IF NOT EXISTS prop (
 id integer NOT NULL,
 nmbrng_id varchar(10) NOT NULL,
 prop_label varchar(80) NOT NULL,
 prop_value varchar(80) NOT NULL,
 PRIMARY KEY (id, nmbrng_id),
 FOREIGN KEY (id) REFERENCES objk(id),
 FOREIGN KEY (nmbrng_id) REFERENCES objk(nmbrng_id)
);

INSERT INTO prop (id, nmbrng_id, prop_label, prop_value) VALUES
 (2, 'n', 'state', '0'),
 (3, 'n', 'state', '0')
;

/* nmbrng */
select * from nmbrng;

/* objk */
select * from objk;

select * from objk
where nmbrng_id == 'n'
order by id;

select nmbrng_id || id as name, label from objk
order by nmbrng_id, id;

/* link */
select * from link;

select src_nmbrng_id || src_id as source, arrow_label as arrow, trg_nmbrng_id || trg_id as target from link;
select src_nmbrng_id || src_id as source, arrow_label || arrow_index as arrow, trg_nmbrng_id || trg_id as target from link;
select src_nmbrng_id || src_id as source, '--' || arrow_label || arrow_index || '->' as arrow, trg_nmbrng_id || trg_id as target from link;

/* prop */
select * from prop;

select nmbrng_id || id as name, prop_label || '=' || prop_value as labval from prop
order by nmbrng_id, id;

